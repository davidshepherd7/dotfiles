%include ../.boron.hgrc

[paths]
review = http://gauss.pa/hg/david/boron-unstable
review-staging = http://gauss.pa/hg/david/boron-staging-stable

unstable = http://gauss.pa/hg/boron-unstable
stable = http://gauss.pa/hg/boron-stable
staging = http://gauss.pa/hg/boron-staging-stable

7review = http://gauss.pa/hg/david/boron-7-stable
# 7stable = http://gauss.pa/hg/boron-7-stable


[alias]
gulplog = log 'path:boron/web_applications/app/' --color=always

grebase = !$HG ungulp && $HG rebase "$@"
ghistedit = !$HG ungulp && $HG he "$@"

# he = !$HG ungulp && $HG histedit -r 'min(draft() and only(.))' "$@"

# This is broken, don't know why...
# rebase = !$HG ungulp && $HG rebase "$@"

pulls-common = !(cd "$($HG root)/common" && $HG pull unstable && $HG pull stable)
pulls-boron = !$HG pull unstable && $HG pull stable && $HG pull staging
pulls = !$HG pulls-common && $HG pulls-boron

upcommon = !cd "$($HG root)/common" && "$HG" up && cd ../ && "$HG" ccommon

[hooks]
# pre-commit = "$(hg root)/scripts/pre-commit.sh"

[phases]
publish = False
