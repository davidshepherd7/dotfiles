[ui]
username = David Shepherd <david.shepherd@biositesystems.com>
ignore = ~/.hgignore
editor = emacsclient -c

[pager]
pager = less -F -R -X -S

[extensions]
pager =
progress =
color =
purge =
shelve =
graphlog =
record =
histedit =
crecord = ~/.hgex/crecord/
rebase =
strip =
transplant =

[color]

custom.tag = yellow bold
custom.bookmark = yellow
custom.author = blue bold
custom.time = green

changeset.public=red
changeset.secret=blue
changeset.draft=green

[alias]

# Interact with RhodeCode
push-review = push -f review
pr = !$HG push-review "$@" && pa-pull-request.sh


# pretty log graph
lg = !$HG log --color=always -G --template "{if(tags, label('custom.tag','[{tags}] '))}{if(bookmarks, label('custom.bookmark','[{bookmarks}] '))}{label('changeset.{phase}', node|short)} {desc|firstline} {label('custom.time',date|age)} {label('custom.author',author|person)}" "$@" | sed -e '1i\\' 2>/dev/null | less -FRXS


# status including subrepos and with path relative to root
s = !$HG status -S $($HG root) --color=always "$@" | sed -e '1i\\' 2>/dev/null | less -FRXS
st = !$HG status -S $($HG root) --color=always "$@"

# View shelved changesets
shs = !$HG shelve --list --patch $@ --color=always | less -FRXS

# Manifest with better xargs integration
manifest0 = !$HG manifest | tr '\n' '\0'

# Side by side diff
sdiff = !$HG diff $@ | cdiff -s



diff = diff --exclude "path:boron/web_applications/app/" --exclude "path:boron/web_applications/lib/"


doagain = !$HG up -r "$1" && $HG import --no-commit <(hg diff -r . -r "$2")

# Get the real hash of a revision (as needed for hgsubstate)
idfull = !$HG --debug id -i "$@"
